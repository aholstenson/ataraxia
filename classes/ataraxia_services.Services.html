<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Services | Ataraxia</title><meta name="description" content="Documentation for Ataraxia"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Ataraxia</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">Ataraxia</a></li><li><a href="../modules/ataraxia_services.html">ataraxia-services</a></li><li><a href="ataraxia_services.Services.html">Services</a></li></ul><h1>Class Services</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Distributed service registry for exposing and consuming remote services.</p>
</div><div><pre><code class="language-javascript"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">services</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Services</span><span class="hl-1">(</span><span class="hl-0">net</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Join the services</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">services</span><span class="hl-1">.</span><span class="hl-6">join</span><span class="hl-1">();</span>
</code></pre>

<a href="#service-contracts" id="service-contracts" style="color: inherit; text-decoration: none;">
  <h2>Service contracts</h2>
</a>
<p>The service support is built around contracts that define what methods and
events are supported. Contracts are defined using <a href="../modules/ataraxia_services.html#ServiceContract">ServiceContract</a>:</p>
<pre><code class="language-javascript"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">EchoService</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">ServiceContract</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-6">defineMethod</span><span class="hl-1">(</span><span class="hl-3">&#39;echo&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">     </span><span class="hl-0">returnType:</span><span class="hl-1"> </span><span class="hl-0">stringType</span><span class="hl-1">,</span><br/><span class="hl-1">     </span><span class="hl-0">parameters:</span><span class="hl-1"> [</span><br/><span class="hl-1">       {</span><br/><span class="hl-1">          </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-3">&#39;message&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">stringType</span><br/><span class="hl-1">       }</span><br/><span class="hl-1">     ]</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-6">defineEvent</span><span class="hl-1">(</span><span class="hl-3">&#39;onEcho&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">parameters:</span><span class="hl-1"> [</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-3">&#39;message&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">stringType</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  });</span>
</code></pre>

<a href="#implementing-and-registering-services" id="implementing-and-registering-services" style="color: inherit; text-decoration: none;">
  <h2>Implementing and registering services</h2>
</a>
<p>When a contract has been defined it should be implemented, either as a class
or as a one-off instance.</p>

<a href="#classes" id="classes" style="color: inherit; text-decoration: none;">
  <h3>Classes</h3>
</a>
<p>Classes are commonly implemented using a decorator to indicate what contract
they support:</p>
<pre><code class="language-javascript"><span class="hl-1">@</span><span class="hl-6">serviceContract</span><span class="hl-1">(</span><span class="hl-0">EchoService</span><span class="hl-1">)</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">EchoServiceImpl</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">echoEvent</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">AsyncEvent</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-4">get</span><span class="hl-1"> </span><span class="hl-6">onEcho</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">echoEvent</span><span class="hl-1">.</span><span class="hl-0">subscribable</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-6">echo</span><span class="hl-1">(</span><span class="hl-0">message</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">echoEvent</span><span class="hl-1">.</span><span class="hl-6">emit</span><span class="hl-1">(</span><span class="hl-0">message</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">message</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">// Register a new instance</span><br/><span class="hl-0">services</span><span class="hl-1">.</span><span class="hl-6">register</span><span class="hl-1">(</span><span class="hl-3">&#39;echo&#39;</span><span class="hl-1">, </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">EchoServiceImpl</span><span class="hl-1">());</span>
</code></pre>

<a href="#instance" id="instance" style="color: inherit; text-decoration: none;">
  <h3>Instance</h3>
</a>
<p>Instance implementations are useful for singleton services without events:</p>
<pre><code class="language-javascript"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">NoEventEchoService</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">ServiceContract</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-6">defineMethod</span><span class="hl-1">(</span><span class="hl-3">&#39;echo&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">     </span><span class="hl-0">returnType:</span><span class="hl-1"> </span><span class="hl-0">stringType</span><span class="hl-1">,</span><br/><span class="hl-1">     </span><span class="hl-0">parameters:</span><span class="hl-1"> [</span><br/><span class="hl-1">       {</span><br/><span class="hl-1">          </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-3">&#39;message&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">stringType</span><br/><span class="hl-1">       }</span><br/><span class="hl-1">     ]</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-7">// Implement the contract</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">instance</span><span class="hl-1"> = </span><span class="hl-0">NoEventEchoService</span><span class="hl-1">.</span><span class="hl-6">implement</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-6">echo</span><span class="hl-1">(</span><span class="hl-0">message</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">message</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">// Register the instance</span><br/><span class="hl-0">services</span><span class="hl-1">.</span><span class="hl-6">register</span><span class="hl-1">(</span><span class="hl-3">&#39;echo&#39;</span><span class="hl-1">, </span><span class="hl-0">instance</span><span class="hl-1">);</span>
</code></pre>

<a href="#consuming-services" id="consuming-services" style="color: inherit; text-decoration: none;">
  <h2>Consuming services</h2>
</a>
<p><a href="../interfaces/ataraxia_services.Service.html">Service</a>s are commonly consumed either by their identifier or
dynamically using events.</p>

<a href="#events" id="events" style="color: inherit; text-decoration: none;">
  <h3>Events</h3>
</a>
<p>It is possible to listen for events becoming available and unavailable using
<a href="ataraxia_services.Services.html#onServiceAvailable">onServiceAvailable</a> and <a href="ataraxia_services.Services.html#onServiceUnavailable">onServiceUnavailable</a>:</p>
<pre><code class="language-javascript"><span class="hl-0">services</span><span class="hl-1">.</span><span class="hl-6">onServiceAvailable</span><span class="hl-1">(</span><span class="hl-0">service</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">// Do something with the service here</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">services</span><span class="hl-1">.</span><span class="hl-6">onServiceUnavailable</span><span class="hl-1">(</span><span class="hl-0">service</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">// Stop doing something with the service</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Updates to services can occur if multiple instances are registered for the
same id, in which case they are merged and update events emitted if the
supported methods and events change:</p>
<pre><code class="language-javascript"><span class="hl-0">services</span><span class="hl-1">.</span><span class="hl-6">onServiceUpdate</span><span class="hl-1">(</span><span class="hl-0">service</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">// Service has been updated, determine if we are still interested in it</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#getting-specific-services" id="getting-specific-services" style="color: inherit; text-decoration: none;">
  <h3>Getting specific services</h3>
</a>
<p><a href="ataraxia_services.Services.html#get">get</a> can be used to get a service based on a known identifier. Doing
so allows you to determine its availability, listen to changes, events and
invoke methods.</p>
<pre><code class="language-javascript"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">service</span><span class="hl-1"> = </span><span class="hl-0">services</span><span class="hl-1">.</span><span class="hl-6">get</span><span class="hl-1">(</span><span class="hl-3">&#39;echo&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">if</span><span class="hl-1">(</span><span class="hl-0">service</span><span class="hl-1">.</span><span class="hl-0">available</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">service</span><span class="hl-1">.</span><span class="hl-6">call</span><span class="hl-1">(</span><span class="hl-3">&#39;echo&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Hello world!&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Events are available on the service instance and can be used to listen for
changes to it, see <a href="../interfaces/ataraxia_services.Service.html#onAvailable">Service.onAvailable</a>, <a href="../interfaces/ataraxia_services.Service.html#onUnavailable">Service.onUnavailable</a>
and <a href="../interfaces/ataraxia_services.Service.html#onUpdate">Service.onUpdate</a>.</p>

<a href="#creating-proxies" id="creating-proxies" style="color: inherit; text-decoration: none;">
  <h3>Creating proxies</h3>
</a>
<p>Creating a proxy is the recommended way to call methods and listen to events
from a service. It allows for a very similar style of use for services that
are remote as for services that are local.</p>
<p>Proxies are created from a contract and use the methods and events defined
in them to create the proxied instance:</p>
<pre><code class="language-javascript"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">echoService</span><span class="hl-1"> = </span><span class="hl-0">service</span><span class="hl-1">.</span><span class="hl-6">as</span><span class="hl-1">(</span><span class="hl-0">EchoService</span><span class="hl-1">);</span>
</code></pre>
<p>A proxied service can then be called as a normal class:</p>
<pre><code class="language-javascript"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">echoService</span><span class="hl-1">.</span><span class="hl-6">echo</span><span class="hl-1">(</span><span class="hl-3">&#39;Hello world!&#39;</span><span class="hl-1">);</span>
</code></pre>
<p>Events work similar to how they would locally:</p>
<pre><code class="language-javascript"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">echoService</span><span class="hl-1">.</span><span class="hl-6">onEcho</span><span class="hl-1">(</span><span class="hl-0">message</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Echoed:&#39;</span><span class="hl-1">, </span><span class="hl-0">message</span><span class="hl-1">));</span>
</code></pre>
<p>Methods in a contract will become a method on the proxy that returns a
<code>Promise</code>, so method calls must always be awaited to retrieve the result.
Events will become an instance of <a href="../modules/ataraxia_services.html#AsyncSubscribable">AsyncSubscribable</a>.</p>
</div></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">Services</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="ataraxia_services.Services.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section "><h3>Accessors</h3><ul class="tsd-index-list"><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="ataraxia_services.Services.html#onServiceAvailable" class="tsd-kind-icon">on<wbr/>Service<wbr/>Available</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="ataraxia_services.Services.html#onServiceUnavailable" class="tsd-kind-icon">on<wbr/>Service<wbr/>Unavailable</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="ataraxia_services.Services.html#onServiceUpdate" class="tsd-kind-icon">on<wbr/>Service<wbr/>Update</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class"><a href="ataraxia_services.Services.html#get" class="tsd-kind-icon">get</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="ataraxia_services.Services.html#join" class="tsd-kind-icon">join</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="ataraxia_services.Services.html#leave" class="tsd-kind-icon">leave</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="ataraxia_services.Services.html#register" class="tsd-kind-icon">register</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class"><a id="constructor" class="tsd-anchor"></a><h3>constructor</h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">new <wbr/>Services<span class="tsd-signature-symbol">(</span>network<span class="tsd-signature-symbol">: </span><a href="ataraxia.Network.html" class="tsd-signature-type" data-tsd-kind="Class">Network</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="ataraxia_services.Services.html" class="tsd-signature-type" data-tsd-kind="Class">Services</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/aholstenson/ataraxia/blob/df08fb4/packages/services/src/Services.ts#L246">packages/services/src/Services.ts:246</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>network: <a href="ataraxia.Network.html" class="tsd-signature-type" data-tsd-kind="Class">Network</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="ataraxia_services.Services.html" class="tsd-signature-type" data-tsd-kind="Class">Services</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Accessors</h2><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="onServiceAvailable" class="tsd-anchor"></a><h3>on<wbr/>Service<wbr/>Available</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> onServiceAvailable<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Subscribable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">this</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">[</span>service<span class="tsd-signature-symbol">: </span><a href="../interfaces/ataraxia_services.Service.html" class="tsd-signature-type" data-tsd-kind="Interface">Service</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/aholstenson/ataraxia/blob/df08fb4/packages/services/src/Services.ts#L275">packages/services/src/Services.ts:275</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event emitted when a service becomes available.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Subscribable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">this</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">[</span>service<span class="tsd-signature-symbol">: </span><a href="../interfaces/ataraxia_services.Service.html" class="tsd-signature-type" data-tsd-kind="Interface">Service</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>  subscribable</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="onServiceUnavailable" class="tsd-anchor"></a><h3>on<wbr/>Service<wbr/>Unavailable</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> onServiceUnavailable<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Subscribable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">this</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">[</span>service<span class="tsd-signature-symbol">: </span><a href="../interfaces/ataraxia_services.Service.html" class="tsd-signature-type" data-tsd-kind="Interface">Service</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/aholstenson/ataraxia/blob/df08fb4/packages/services/src/Services.ts#L285">packages/services/src/Services.ts:285</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event emitted when a service becomes unavailable.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Subscribable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">this</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">[</span>service<span class="tsd-signature-symbol">: </span><a href="../interfaces/ataraxia_services.Service.html" class="tsd-signature-type" data-tsd-kind="Interface">Service</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>  subscribable</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="onServiceUpdate" class="tsd-anchor"></a><h3>on<wbr/>Service<wbr/>Update</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> onServiceUpdate<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Subscribable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">this</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">[</span>service<span class="tsd-signature-symbol">: </span><a href="../interfaces/ataraxia_services.Service.html" class="tsd-signature-type" data-tsd-kind="Interface">Service</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/aholstenson/ataraxia/blob/df08fb4/packages/services/src/Services.ts#L295">packages/services/src/Services.ts:295</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event emitted when a service is updated.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Subscribable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">this</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">[</span>service<span class="tsd-signature-symbol">: </span><a href="../interfaces/ataraxia_services.Service.html" class="tsd-signature-type" data-tsd-kind="Interface">Service</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>  subscribable</p>
</div></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="get" class="tsd-anchor"></a><h3>get</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">get<span class="tsd-signature-symbol">(</span>id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/ataraxia_services.Service.html" class="tsd-signature-type" data-tsd-kind="Interface">Service</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/aholstenson/ataraxia/blob/df08fb4/packages/services/src/Services.ts#L472">packages/services/src/Services.ts:472</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get information about a service with the given identifier.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>id: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<ul>
<li> the identifier of the service</li>
</ul>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/ataraxia_services.Service.html" class="tsd-signature-type" data-tsd-kind="Interface">Service</a></h4><div><p>  <code>Service</code> instance or <code>null</code> if service is unavailable</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="join" class="tsd-anchor"></a><h3>join</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">join<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/aholstenson/ataraxia/blob/df08fb4/packages/services/src/Services.ts#L305">packages/services/src/Services.ts:305</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Join the services layer allowing access to remote services.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>  promise that resolves when services have started</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="leave" class="tsd-anchor"></a><h3>leave</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">leave<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/aholstenson/ataraxia/blob/df08fb4/packages/services/src/Services.ts#L315">packages/services/src/Services.ts:315</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Leave the services no longer allowing access to remote services.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>  promise that resolves when services have stopped</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="register" class="tsd-anchor"></a><h3>register</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">register<span class="tsd-signature-symbol">(</span>id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, instanceOrFactory<span class="tsd-signature-symbol">: </span><a href="../modules/ataraxia_services.html#LocalService" class="tsd-signature-type" data-tsd-kind="Type alias">LocalService</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/ataraxia_services.ServiceHandle.html" class="tsd-signature-type" data-tsd-kind="Interface">ServiceHandle</a></li><li class="tsd-signature tsd-kind-icon">register<span class="tsd-signature-symbol">(</span>instanceOrFactory<span class="tsd-signature-symbol">: </span><a href="../modules/ataraxia_services.html#LocalService" class="tsd-signature-type" data-tsd-kind="Type alias">LocalService</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>serviceId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/ataraxia_services.ServiceHandle.html" class="tsd-signature-type" data-tsd-kind="Interface">ServiceHandle</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/aholstenson/ataraxia/blob/df08fb4/packages/services/src/Services.ts#L329">packages/services/src/Services.ts:329</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register an object using a specific identifier.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>id: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<ul>
<li> identifier of the service</li>
</ul>
</div></div></li><li><h5>instanceOrFactory: <a href="../modules/ataraxia_services.html#LocalService" class="tsd-signature-type" data-tsd-kind="Type alias">LocalService</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<ul>
<li> instance to expose or factory for the instance</li>
</ul>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/ataraxia_services.ServiceHandle.html" class="tsd-signature-type" data-tsd-kind="Interface">ServiceHandle</a></h4><div><p>  handle that can be used to remove service</p>
</div></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/aholstenson/ataraxia/blob/df08fb4/packages/services/src/Services.ts#L339">packages/services/src/Services.ts:339</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register an object that contains a service identifier.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>instanceOrFactory: <a href="../modules/ataraxia_services.html#LocalService" class="tsd-signature-type" data-tsd-kind="Type alias">LocalService</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>serviceId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<ul>
<li> instance to expose or factory for the instance</li>
</ul>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/ataraxia_services.ServiceHandle.html" class="tsd-signature-type" data-tsd-kind="Interface">ServiceHandle</a></h4><div><p>  handle that can be used to remove service</p>
</div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="../modules/ataraxia.html">ataraxia</a></li><li class=" tsd-kind-module"><a href="../modules/ataraxia_hyperswarm.html">ataraxia-<wbr/>hyperswarm</a></li><li class=" tsd-kind-module"><a href="../modules/ataraxia_local.html">ataraxia-<wbr/>local</a></li><li class=" tsd-kind-module"><a href="../modules/ataraxia_service_contracts.html">ataraxia-<wbr/>service-<wbr/>contracts</a></li><li class="current tsd-kind-module"><a href="../modules/ataraxia_services.html">ataraxia-<wbr/>services</a></li><li class=" tsd-kind-module"><a href="../modules/ataraxia_tcp.html">ataraxia-<wbr/>tcp</a></li><li class=" tsd-kind-module"><a href="../modules/ataraxia_transport.html">ataraxia-<wbr/>transport</a></li><li class=" tsd-kind-module"><a href="../modules/ataraxia_transport_streams.html">ataraxia-<wbr/>transport-<wbr/>streams</a></li><li class=" tsd-kind-module"><a href="../modules/ataraxia_ws_client.html">ataraxia-<wbr/>ws-<wbr/>client</a></li><li class=" tsd-kind-module"><a href="../modules/ataraxia_ws_server.html">ataraxia-<wbr/>ws-<wbr/>server</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-parent-kind-module"><a href="ataraxia_services.Services.html" class="tsd-kind-icon">Services</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="ataraxia_services.Services.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="ataraxia_services.Services.html#onServiceAvailable" class="tsd-kind-icon">on<wbr/>Service<wbr/>Available</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="ataraxia_services.Services.html#onServiceUnavailable" class="tsd-kind-icon">on<wbr/>Service<wbr/>Unavailable</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="ataraxia_services.Services.html#onServiceUpdate" class="tsd-kind-icon">on<wbr/>Service<wbr/>Update</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="ataraxia_services.Services.html#get" class="tsd-kind-icon">get</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="ataraxia_services.Services.html#join" class="tsd-kind-icon">join</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="ataraxia_services.Services.html#leave" class="tsd-kind-icon">leave</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="ataraxia_services.Services.html#register" class="tsd-kind-icon">register</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li><li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>